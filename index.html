<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Forever & Always</title>
  <meta name="description" content="Minimal black love page with fade-in message, typed line + heartbeat, and a small visible YouTube lyric video." />
  <style>
    :root{ --bg:#000; --fg:#f5f5f5; --accent:red; --muted:#cfcfcf }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; background:var(--bg); color:var(--fg);
      display:grid; place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      padding:24px;
    }
    main{ width:min(860px,95vw); text-align:center; line-height:1.65 }

    .ucapan{ font-size:clamp(12px,2.4vw,18px); text-align:justify; opacity:0; transition:opacity 1.2s ease }
    .ucapan.show{ opacity:1 }

    .love{ margin-top:18px; font-size:clamp(18px,3vw,24px) }

    .heartbeat{ display:inline-block; color:var(--accent); font-size:1.4em; animation:beat 2.2s infinite; transform-origin:center }
    @keyframes beat{ 0%,100%{transform:scale(1)} 30%{transform:scale(1.18)} 60%{transform:scale(1)} 80%{transform:scale(1.18)} }

    .sig{ margin-top:10px; color:var(--muted); font-style:italic; font-size:clamp(14px,2.4vw,18px); opacity:0; transition:opacity .6s ease }
    .sig.show{ opacity:1 }

    .caret{ display:inline-block; width:.6ch; height:1em; translate:0 .15em; background:var(--fg); animation:blink 1s step-end infinite }
    @keyframes blink{ 50%{opacity:0} }

    /* === MINI PLAYER (video + button inline) === */
    .mini {
      position: fixed; right: 14px; bottom: 14px; z-index: 20;
      display: flex; align-items: center; gap: 10px;
      padding: 10px; border-radius: 14px; border: 1px solid #2a2a2a;
      background: rgba(10,10,10,.75); backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,.45);
    }
    .thumb { width: 220px; aspect-ratio: 16 / 9; position: relative; }
    .thumb iframe {
      position: absolute; inset: 0; width: 100%; height: 100%; border: 0; border-radius: 10px;
    }
    #soundBtn{
      padding:8px 12px; border-radius:999px; border:1px solid #444; background:#111; color:#fff;
      font-size:14px; cursor:pointer; opacity:.95; white-space:nowrap;
    }

    @media (max-width: 420px){
      .thumb { width: 180px; }
    }
  </style>
</head>
<body>
  <main>
    <div id="ucapan" class="ucapan">
To my sayang hensem,<br>
Thanks for being always sabar for me & terima mek in your life. Sikda lain yang mek boleh padah, mek bena bena sayangkan ktk. Thank you for evrything and kmk minta maaf dari sudut hati mek paling dalam untuk semua salah silap mek ke sayang selama kita kenal dan in future kelak. Mek minta maaf sik sempurna untuk syg, dan harap syg bersabar dengan mek. Mek hargai semua yang syg beri ke kmk dari segi kasih syg, caring, ilmu, nasihat, teguran dan semua benda yang syg pernah bagi even sekecik particles. Semua ya dah cukup dan sempurna sbg bukti yg ktk syg kmk. Kmk truly hargai semua ya, semua usaha syg dan sentiasa ingat semua moment kita. Terima kasih untuk semua dan selalu ada untuk kmk. Kmk sentiasa doakan kebahagiaan syg, rasa mek ke syg tetap sama dan sentiasa syg. even kita ok or sik okay sperti mek padah ke syg selalu, i love you always & forever. Jaga diri, jaga hati, jaga kesihatan & jaga mata utk mek. Mek mok syg utamakan diri syg juak & syg diri syg juak cuz mek love you so much & rindu syg setiap detik. Apa pun jadi, mek sentiasa ada untuk syg sentiasa & bila-bila.
    </div>

    <div id="love" class="love"></div>
    <p id="sig" class="sig">‚Äî From your sayang comel, ZP üòùüòò ‚Äî</p>
  </main>

  <!-- MINI PLAYER: video + button inline -->
  <div class="mini">
    <div class="thumb">
      <iframe
        id="lyric"
        src="https://www.youtube-nocookie.com/embed/ie-mXf5Lon8?autoplay=1&mute=1&start=45&controls=0&rel=0&modestbranding=1&playsinline=1&loop=1&playlist=ie-mXf5Lon8&enablejsapi=1"
        allow="autoplay; encrypted-media; picture-in-picture"
        title="Lyric video">
      </iframe>
    </div>
    <button id="soundBtn">üîä Unmute</button>
  </div>

  <script>
    // Fade-in ucapan
    function sleep(ms){ return new Promise(r=>setTimeout(r, ms)); }
    setTimeout(()=>{ document.getElementById('ucapan').classList.add('show'); }, 500);

    // Type love line + heartbeat + signature
    async function typeLove(){
      const el = document.getElementById('love');
      const text = 'I love you ‚Äî forever & always ';
      const caret = document.createElement('span'); caret.className='caret';
      el.textContent='';
      for(const ch of text){
        caret.remove(); el.textContent += ch; el.appendChild(caret);
        await sleep(28 + Math.random()*22);
      }
      caret.remove();
      const heart = document.createElement('span');
      heart.className='heartbeat'; heart.textContent='‚ù§';
      el.appendChild(heart);
      await sleep(600);
      document.getElementById('sig').classList.add('show');
    }
    setTimeout(typeLove, 3000);

    // ========= Mute / Unmute handling (YouTube via postMessage) =========
    const btn = document.getElementById('soundBtn');
    const frame = document.getElementById('lyric');
    let isMuted = true;

    function yt(cmd, args=[]){
      try{ frame.contentWindow.postMessage(JSON.stringify({event:'command', func:cmd, args}), '*'); }catch(e){}
    }
    function setMuted(m){
      isMuted = m;
      if(m){ yt('mute'); btn.textContent = 'üîä Unmute'; }
      else { yt('unMute'); yt('setVolume', [100]); btn.textContent = 'üîà Mute'; }
    }

    btn.addEventListener('click', ()=> setMuted(!isMuted));

    // Satu tap di mana-mana untuk bunyikan cepat (optional)
    function oneTap(){ if(isMuted){ setMuted(false); } document.removeEventListener('pointerdown', oneTap, {once:true}); }
    document.addEventListener('pointerdown', oneTap, {once:true});

    // Pastikan video play (autoplay muted) sebaik load
    window.addEventListener('load', ()=>{ yt('playVideo'); setMuted(true); });
  </script>
</body>
</html>
